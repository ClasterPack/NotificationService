# Notification API

Центральный узел для обработки заявок на уведомления.  
**API не занимается рассылкой уведомлений напрямую**, а принимает заявки и ставит их в очередь (RabbitMQ или Apache Kafka) для дальнейшей обработки.  

---

## Описание

Этот сервис принимает события и заявки на уведомления через HTTP API, кладёт их в очередь сообщений, а также сохраняет в MongoDB для последующего получения пользователями.

---

## Основные возможности

- Приём заявок на уведомления через endpoint `/api/v1/notifications/event`.
- Получение списка уведомлений конкретного пользователя через endpoint `/api/v1/users/{user_id}/notifications`.
- Проверка прав доступа — пользователи могут получать только свои уведомления.
- Поддержка постраничного вывода (limit, offset).
- Использование RabbitMQ или Kafka для очередей.
- Хранение уведомлений в MongoDB.
- Запуск через `docker-compose`.
- Наличие тестов.

---

## API эндпоинты

### POST `/api/v1/notifications/event`


Принимает заявку на уведомление (формат в JSON).  
`user_id` не обязателен при массовой рассылке.
Заявка отправляется в очередь и сохраняется в MongoDB.

**Пример запроса:**

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "event": "new_movie_release",
  "campaign_id": "campaign_123",
  "notification_type": "push",
  "subject": "Новая премьера!",
  "text": "Вышел новый фильм, посмотрите прямо сейчас!",
  "user_id": "123e4567-e89b-12d3-a456-426614174000"
}

